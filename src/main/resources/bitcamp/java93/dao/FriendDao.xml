<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- Mybatis에서 DAO 구현체를 자동으로 만들 때는,
     SQL 맵퍼 파일의 namespace 값이 DAO 인터페이스와 같아야 한다. -->
<mapper namespace="bitcamp.java93.dao.FriendDao">
  <!-- DB 컬럼과 자바 객체의 프로퍼티를 연결하는 정보 -->
  <resultMap type="friend" id="friendMap">
    <id column="trano" property="trano"/>
    <result column="mno" property="mno"/>
    <result column="tno" property="tno"/>
    <result column="confirm" property="confirm"/>

  </resultMap>
  
  

  <insert id="insert" parameterType="friend">
          insert into tcher_trainer(mno, tno, confirm)
          values(#{mno}, #{tno}, #{confirm});
  </insert>
  <insert id="insert2" parameterType="friend">
          insert into f_like(mno, tno)
          values(#{mno}, #{tno});
  </insert>
  

  <select id="detail"  parameterType="int">
    select mno, tno from tcher_trainer
     where mno=#{mno} and tno=#{tno}
  </select>
  
  <select id="detail2" resultMap="friendMap" parameterType="int">
   select mno, tno from f_like
     where mno=#{mno} and tno=#{tno}
  </select>
  
  
  <delete id="delete" parameterType="int">
    delete from tcher_trainer where mno=#{mno} and tno=#{tno}
  </delete>
  
  <delete id="delete2" parameterType="int">
    delete from f_like where mno=#{mno} and tno=#{tno}
  </delete>



</mapper>

