<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="../font-awesome/css/font-awesome.min.css">
  <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css'>
  <!-- <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.min.css"> -->
  <link rel='stylesheet' href='../css/tomato.css'>
  <link rel='stylesheet' href='../css/chat.css'>
<style>
@font-face {
  font-family: 'UhBeemysen', 'UhBeeMyHusband';
  src: url('../font/UhBeemysen.woff');
  src: url('../font/UhBeeMyHusband.woff');
  /*src:
  /*url('../font/UhBeemysen.woff') format('woff'),*/
  /*url('../font/UhBeenMyHusband.woff') format('woff');*/
  /*url('../font/UhBeemysen.eot?#iefix') format('embedded-opentype'),*/

}

html body div a h1 {
  font-family: 'UhBeemysen', 'UhBeeMyHusband';
  font-size: 1.6rem;
}
</style>
</head>
<body>
<div class='container'>
  <div class='header'>
    <a id='menu' href='#'><i class="fa fa-bars" aria-hidden="true"></i></a>
    <h1 id='logo'><a href="#">TOMATO</a></h1>
    <a id='search' href='#'><i class="fa fa-search" aria-hidden="true"></i></a>
  </div>

  <div class='chat-detail'>
    <div id='cd-header'>
      <img src='../image/small/arrow-left.png'>
      강사1
    </div>
    <ul id='messageBox'>
      <div class='cd-content clearfix'>
        <span id='me' name="me" rows="8" cols="80">안녕하세요</span>
      </div>
      <div class='cd-content clearfix'>
        <span id='you' name="you" rows="8" cols="80">네, 안녕하세요^^</span>
        <img src="../image/small/user2.png">
      </div>
      <div class='cd-content clearfix'>
        <span id='me' name="me" rows="8" cols="80">안녕하세요</span>
      </div>
    </ul>
    <div id='cd-footer'>
      <input id="message" type="text">
      <button id="sendBtn" type="button" class='btn'>전송</button>
    </div>
  </div>
</div>
<script src="../socket.io/socket.io.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script>
"use strict"
const net = require('net')
var message = $('#message'),
    messageBox = $('#messageBox'),
    sendBtn = $('#sendBtn'),
    buffer='';

var socket = io.connect('http://localhost');
        $("#messageBox").keyup(function(event) {
            if (event.which == 13) {
                socket.emit('fromclient',{msg:$('#messageBox').val()});
                $('#messageBox').val('');
            }
        });
        socket.on('toclient',function(data){
            console.log(data.msg);
            $('#message').append(data.msg+'<br>');
        });

</script>


</body>
</html>
